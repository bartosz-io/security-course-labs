<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="data:,">
  <title>WebSockets</title>
</head>

<body>
  <script type="text/javascript">

    const wsUri = "ws://127.0.0.1:8080";
    let websocket, status, output, msg;

    function init() {
      connect();
    }

    function connect() {
      websocket = new WebSocket(wsUri);

      websocket.onopen = () => {
        console.log("CONNECTED");
        doSend('SQL injection! ðŸ’£');
        websocket.close();
      };

      websocket.onclose = () => console.log("DISCONNECTED");
    }

    function doSend(message) {
      if (websocket?.readyState === WebSocket.OPEN) {
        websocket.send(message);
        console.log("Executed attack! ðŸ’£");
      } else {
        console.log('NOT CONNECTED...');
      }
    }

    window.addEventListener("DOMContentLoaded", init, false);
  </script>

  <h2>Very evil page! ðŸ˜ˆ</h2>

</body>

</html>